<EditForm Model="Model" OnValidSubmit="Submit" style="width: 500px">

    <FluentValidationValidator />

    <div class="mb-3">
        <label for="company" class="form-label">Company</label>
        <InputSelect @bind-Value="Model.CustomerId" @onfocus="EnsureCustomersAreLoaded" id="company" class="form-select">
            <option selected disabled>Select a customer...</option>
            @if (Customers == null)
            {
                <option disabled>Loading...</option>
            }
            else
            {
                foreach (var customer in Customers)
                {
                    <option value="@customer.Id">@customer.CompanyName</option>
                }
            }
        </InputSelect>
        <ValidationMessage For="() => Model.CustomerId" />
    </div>

    <div class="mb-3">        
        <label for="dueDate" class="form-label">Due Date</label>
        <InputDate @bind-Value="Model.DueDate" class="form-control" id="dueDate" />
        <ValidationMessage For="() => Model.DueDate" />
    </div>
    
    <button disabled="@IsSubmitting" type="submit" class="btn btn-primary">Create Work Order</button>
    <button disabled="@IsSubmitting" type="button" class="btn btn-secondary" @onclick="Close">Cancel</button>

</EditForm>